<div class="min-h-screen bg-base-200 p-8 flex flex-col items-center">
  <div class="w-full max-w-4xl flex justify-between items-center mb-8">
    <h1 class="text-4xl font-bold">Lista de Clientes</h1>
  </div>

  <div class="w-full max-w-4xl grid grid-cols-1 md:grid-cols-3 gap-8">
    
    <!-- Table Section -->
    <div class="md:col-span-2 bg-base-100 rounded-box shadow-xl overflow-x-auto">
      <table class="table table-zebra w-full text-base">
        <!-- head -->
        <thead class="bg-base-300 text-base-content text-sm">
          <tr>
            <th>Nombre</th>
            <th>Correo Electrónico</th>
            <th class="text-center">Visitas Totales</th>
          </tr>
        </thead>
        <tbody>
          @for (client of clients$ | async; track client.id) {
            <tr class="hover">
              <td class="font-bold">{{ client.name || '-' }}</td>
              <td class="font-medium text-base-content/70">{{ client.email }}</td>
              <td class="text-center font-bold text-primary">{{ client.visits }}</td>
            </tr>
          } @empty {
            <tr>
              <td colspan="3" class="py-8 text-center text-base-content/50 italic">No hay clientes registrados aún.</td>
            </tr>
          }
        </tbody>
      </table>
    </div>

    <!-- QR Section -->
    <div class="card bg-base-100 shadow-xl border border-base-300">
      <div class="card-body items-center text-center">
        <h2 class="card-title text-xl mb-1">Check-in QR</h2>
        <p class="text-sm text-base-content/70 mb-4">Escanea para registrar tu visita</p>
        
        <div class="bg-white p-3 rounded-2xl shadow-inner border border-base-300">
          <qrcode [qrdata]="qrCodeUrl" [width]="180" [errorCorrectionLevel]="'M'"></qrcode>
        </div>
        
        <p class="mt-4 text-xs text-primary break-all max-w-[200px]">{{ qrCodeUrl }}</p>
      </div>
    </div>

  </div>
</div>
